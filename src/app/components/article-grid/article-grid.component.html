<ng-container *ngIf="facade.isAdmin$ | async">
	<lcc-link-list [links]="[createArticleLink]"
								 (select)="facade.onCreateArticle()">
	</lcc-link-list>
</ng-container>

<div class="articles-container">
	<article *ngFor="let article of (facade.articles$ | async); trackBy: trackByFn"
					 class="lcc-admin-controls-container"
					 (click)="facade.onSelectArticle(article)">
		<ng-container *ngIf="facade.isAdmin$ | async">
			<lcc-admin-controls [itemName]="article.title"
													(edit)="facade.onEditArticle(article)"
													(delete)="facade.onDeleteArticle(article)">
			</lcc-admin-controls>
		</ng-container>

		<img class="lcc-article-thumbnail-image"
				 [src]="(article?.thumbnailImageUrl ?? 'assets/image-placeholder.png') | sanitizeUrl"
				 alt="Article banner image" />

		<div class="lcc-article-summary-container">
			<h3 class="lcc-truncate-max-2-lines">{{ article.title }}</h3>
			<p class="lcc-truncate-max-5-lines">{{ article.body }}</p>
			<div class="lcc-article-dates-container h6">
				<span>{{ formatDate(article.dateCreated) }}</span>
				<span class="lcc-vertical-spacer">|</span>
				<span class="edited">edited&nbsp;</span>
				<span *ngIf="article?.dateEdited">{{ formatDate(article.dateEdited) }}</span>
			</div>
		</div>
	</article>
</div>
