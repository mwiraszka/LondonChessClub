<aside class="lcc-required-fields-legend">Required fields</aside>

<form *ngIf="form"
			class="lcc-form"
			[formGroup]="form"
			(ngSubmit)="onSubmit()">
	<div class="lcc-form-fields">
		<label for="event-date-input"
					 class="lcc-required-field">
			Event date:
		</label>
		<input id="event-date-input"
					 type="text"
					 name="event-date"
					 formControlName="eventDate" />
		<div class="lcc-form-error-container">
			<i-feather *ngIf="hasError(form.controls['eventDate'])"
								 name="alert-triangle"
								 class="lcc-form-error-icon validation-alert-icon"
								 [tooltip]="getErrorMessage(form.controls['eventDate'])">
			</i-feather>
		</div>

		<label for="title-input"
					 class="lcc-required-field">
			Title:
		</label>
		<input id="title-input"
					 type="text"
					 name="title"
					 formControlName="title" />
		<div class="lcc-form-error-container">
			<i-feather *ngIf="hasError(form.controls['title'])"
								 name="alert-triangle"
								 class="lcc-form-error-icon validation-alert-icon"
								 [tooltip]="getErrorMessage(form.controls['title'])">
			</i-feather>
		</div>

		<label for="details-input"
					 class="lcc-required-field">
			Details:
		</label>
		<textarea id="details-input"
							name="details"
							formControlName="details"
							maxlength="400">
    </textarea>
		<div class="lcc-form-error-container">
			<i-feather *ngIf="hasError(form.controls['details'])"
								 name="alert-triangle"
								 class="lcc-form-error-icon validation-alert-icon"
								 [tooltip]="getErrorMessage(form.controls['details'])">
			</i-feather>
		</div>

		<label class="lcc-required-field">Event type:</label>

		<fieldset class="lcc-form-radio-buttons">
			<div>
				<input type="radio"
							 id="blitz-input"
							 name="type"
							 formControlName="type"
							 value="blitz tournament"
							 [checked]="form.value.type === 'blitz tournament'" />
				<label for="blitz-input">Blitz tournament</label>
			</div>
			<div>
				<input type="radio"
							 id="rapid-input"
							 name="type"
							 formControlName="type"
							 value="rapid tournament"
							 [checked]="form.value.type === 'rapid tournament'" />
				<label for="rapid-input">Rapid tournament</label>
			</div>
			<div>
				<input type="radio"
							 id="classical-input"
							 name="type"
							 formControlName="type"
							 value="classical tournament"
							 [checked]="form.value.type === 'classical tournament'" />
				<label for="classical-input">Classical tournament</label>
			</div>
			<div>
				<input type="radio"
							 id="lecture-input"
							 name="type"
							 formControlName="type"
							 value="lecture"
							 [checked]="form.value.type === 'lecture'" />
				<label for="lecture-input">Lecture</label>
			</div>
			<div>
				<input type="radio"
							 id="simul-input"
							 name="type"
							 formControlName="type"
							 value="simul"
							 [checked]="form.value.type === 'simul'" />
				<label for="simul-input">Simul</label>
			</div>
			<div>
				<input type="radio"
							 id="casual-input"
							 name="type"
							 formControlName="type"
							 value="casual"
							 [checked]="form.value.type === 'casual'" />
				<label for="casual-input">Casual</label>
			</div>
			<div>
				<input type="radio"
							 id="closed-input"
							 name="type"
							 formControlName="type"
							 value="closed"
							 [checked]="form.value.type === 'closed'" />
				<label for="casual-input">Closed</label>
			</div>
			<div>
				<input type="radio"
							 id="other-input"
							 name="type"
							 formControlName="type"
							 value="other"
							 [checked]="form.value.type === 'other'" />
				<label for="casual-input">Other</label>
			</div>
		</fieldset>
	</div>

	<hr />

	<lcc-modification-info *ngIf="modificationInfo"
												 [info]="modificationInfo">
	</lcc-modification-info>

	<div class="lcc-form-buttons-container">
		<button class="lcc-secondary-button"
						type="button"
						(click)="onCancel()">
			Cancel
		</button>
		<button class="lcc-primary-button"
						type="submit"
						[disabled]="form.invalid || !(facade.hasUnsavedChanges$ | async)">
			<ng-container *ngIf="facade.isEditMode$ | async; else createModeButton">
				Update
			</ng-container>
			<ng-template #createModeButton>Add event</ng-template>
		</button>
	</div>
</form>
