@for (image of images$ | async; track image.id) {
  <div
    class="image-wrapper"
    [adminControls]="getAdminControlsConfig(image)"
    (click)="dialogResult.emit(image.id)">
    @defer {
      <img
        [alt]="image.caption"
        [src]="image.thumbnailPresignedUrl ?? image.originalPresignedUrl"
        default="assets/image-placeholder.png" />

      <div class="caption">
        <label>Caption:</label>
        <span class="lcc-truncate">{{ image.caption }}</span>
      </div>

      <div class="filename">
        <label>Filename:</label>
        <span class="lcc-truncate">{{ image.filename }}</span>
      </div>

      <div class="file-size">
        <label>File size:</label>
        <span class="lcc-truncate">{{ image.fileSize | formatBytes }}</span>
      </div>

      <div class="upload-date">
        <label>Upload date:</label>
        <span class="lcc-truncate">{{
          image.modificationInfo.dateCreated | formatDate: 'short'
        }}</span>
      </div>

      @if (image?.articleAppearances) {
        <div class="article-appearances">
          <span>(Used in</span>
          <b>{{ image.articleAppearances }}</b>
          <span>{{ image.articleAppearances! > 1 ? 'articles' : 'article' }})</span>
        </div>
      }
    } @placeholder (minimum 0.5s) {
      <div class="lcc-content-placeholder-wrapper loading-placeholder-image">
        <div class="lcc-content-placeholder"></div>
      </div>
    }
  </div>
}
