<ng-container *ngIf="facade.isAdmin$ | async">
	<lcc-link-list [links]="[addEventLink]"></lcc-link-list>
</ng-container>

<table class="lcc-table">
	<thead>
		<th *ngIf="facade.isAdmin$ | async"
				class="lcc-table-admin-controls-filler">
		</th>
		<th class="date">Date</th>
		<th class="event">Event</th>
	</thead>
	<tbody>
		<tr *ngFor="let event of (facade.events$ | async); let last = last; trackBy: trackByFn"
				class="lcc-admin-controls-container"
				[id]="event.id"
				[class.next-event]="event.id === (facade.nextEventId$ | async)"
				[ngClass]="{'last-row': last}">
			<lcc-admin-controls *ngIf="facade.isAdmin$ | async"
													[itemName]="event.title"
													(edit)="facade.onEditEvent(event)"
													(delete)="facade.onDeleteEvent(event)">
			</lcc-admin-controls>
			<td class="date">{{ event.eventDate | formatDate }}</td>
			<td class="details-container">
				<h5 class="title">{{ event.title }}</h5>
				<span class="type"
							[ngClass]="kebabize(event.type)">
					{{ event.type }}
				</span>
				<p *ngIf="includeDetails"
					 class="details">
					{{ event.details }}
				</p>
				<aside *ngIf="includeDetails"
							 class="created-and-edited">
					Event created on {{ event.dateCreated | formatDate:'short' }}<br />
					Last edited on {{ event.dateEdited | formatDate:'short' }}
				</aside>
			</td>
		</tr>
	</tbody>
</table>
