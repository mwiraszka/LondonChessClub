<div class="lcc-canvas">
	<lcc-screen-header [preTitle]="(facade.isEditMode$ | async) ? 'Edit' : null"
										 [title]="(facade.isEditMode$ | async) ? memberFullName : 'Add a member'">
	</lcc-screen-header>

	<form *ngIf="form"
				class="lcc-form"
				[formGroup]="form"
				(ngSubmit)="onSubmit()">
		<div class="lcc-form-fields">
			<label for="first-name-input">
				First name:
			</label>
			<input id="first-name-input"
						 type="text"
						 name="first-name"
						 formControlName="firstName" />
			<div class="lcc-form-error-container">
				<cds-icon *ngIf="hasError(form.controls['firstName'])"
									class="lcc-form-error-icon"
									shape="exclamation-triangle"
									size="md"
									[tooltip]="getErrorMessage(form.controls['firstName'])">
				</cds-icon>
			</div>

			<label for="last-name-input">
				Last name:
			</label>
			<input id="last-name-input"
						 type="text"
						 name="last-name"
						 formControlName="lastName" />
			<div class="lcc-form-error-container">
				<cds-icon *ngIf="hasError(form.controls['lastName'])"
									class="lcc-form-error-icon"
									shape="exclamation-triangle"
									size="md"
									[tooltip]="getErrorMessage(form.controls['lastName'])">
				</cds-icon>
			</div>

			<label for="city-input">
				City:
			</label>
			<input id="city-input"
						 type="text"
						 name="city"
						 formControlName="city" />
			<div class="lcc-form-error-container">
				<cds-icon *ngIf="hasError(form.controls['city'])"
									class="lcc-form-error-icon"
									shape="exclamation-triangle"
									size="md"
									[tooltip]="getErrorMessage(form.controls['city'])">
				</cds-icon>
			</div>

			<label>
				Phone number:
			</label>
			<input id="phone-number-input"
						 type="text"
						 name="phone-number"
						 formControlName="phoneNumber" />
			<div class="lcc-form-error-container">
				<cds-icon *ngIf="hasError(form.controls['phoneNumber'])"
									class="lcc-form-error-icon"
									shape="exclamation-triangle"
									size="md"
									[tooltip]="getErrorMessage(form.controls['phoneNumber'])">
				</cds-icon>
			</div>

			<label>
				Date of birth:
			</label>
			<input id="date-of-birth-input"
						 type="text"
						 name="date-of-birth"
						 formControlName="dateOfBirth" />
			<div class="lcc-form-error-container">
				<cds-icon *ngIf="hasError(form.controls['dateOfBirth'])"
									class="lcc-form-error-icon"
									shape="exclamation-triangle"
									size="md"
									[tooltip]="getErrorMessage(form.controls['dateOfBirth'])">
				</cds-icon>
			</div>

			<label for="email-input">
				Email:
			</label>
			<input id="email-input"
						 type="text"
						 name="email"
						 formControlName="email" />
			<div class="lcc-form-error-container">
				<cds-icon *ngIf="hasError(form.controls['email'])"
									class="lcc-form-error-icon"
									shape="exclamation-triangle"
									size="md"
									[tooltip]="getErrorMessage(form.controls['email'])">
				</cds-icon>
			</div>

			<label for="date-joined-input">
				Date joined:
			</label>
			<input id="date-joined-input"
						 type="text"
						 name="date-joined"
						 formControlName="dateJoined" />
			<div class="lcc-form-error-container">
				<cds-icon *ngIf="hasError(form.controls['dateJoined'])"
									class="lcc-form-error-icon"
									shape="exclamation-triangle"
									size="md"
									[tooltip]="getErrorMessage(form.controls['dateJoined'])">
				</cds-icon>
			</div>

			<label for="rating-input">
				LCC Rating:
			</label>
			<input id="rating-input"
						 type="text"
						 name="rating"
						 formControlName="rating" />
			<div class="lcc-form-error-container">
				<cds-icon *ngIf="hasError(form.controls['rating'])"
									class="lcc-form-error-icon"
									shape="exclamation-triangle"
									size="md"
									[tooltip]="getErrorMessage(form.controls['rating'])">
				</cds-icon>
			</div>
		</div>

		<div class="lcc-form-buttons-container">
			<button class="lcc-secondary-button"
							type="button"
							(click)="onCancel()">
				Cancel
			</button>
			<button class="lcc-primary-button"
							type="submit"
							[disabled]="form.invalid || !(facade.hasUnsavedChanges$ | async)">
				<ng-container *ngIf="facade.isEditMode$ | async; else createModeButton">Update
				</ng-container>
				<ng-template #createModeButton>Add member</ng-template>
			</button>
		</div>
	</form>
</div>
